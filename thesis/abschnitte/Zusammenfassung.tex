\section{Diskussion}

\subsection{Radkasten}

In dieser Arbeit wurden drei Experimente auf der Radkastendomäne durchgeführt.
Im ersten Experiment konnte gezeigt werden, dass SAIL grundsätzlich auf die Domäne anwendbar ist.
Es konnte validiert werden, dass die Freiformdeformation der Radkästen sinnvoll deformierte Radkästen, d. h. Radkästen die nahtlos an das restliche Velomobil anschließen, produzieren kann.
Die Hypothese, dass die Breite des Velomobils negativ mit dem Luftwiderstand des Velomobils korreliert ist, konnte bestätigt werden.
Auch die Hypothese bezüglich des Constraints, dass dieser bei breiteren Velomobilen einfacher einfacher zu Erfüllen ist, konnte bestätigt werden.
Auch wenn der Constraint in der Variante ohne Constraint teilweise schon erfüllt wurde, besonders bei breiten Lösungen hat das Experiment gezeigt, dass die explizite Einbindung des Constraints zu einer nennenswerte Verbesserung diesbezüglich führt.
Auch konnte gezeigt werden, dass erhebliche Constraintverbesserungen durch relativ kleine Fitnesseinbußen möglich sind.

Mit diesem Wissen wurde das zweite Experiment durchgeführt in dem die Anzahl an Freiheitsgraden dramatisch erhöht wurde.
Die Hoffnung war durch mehr Freiheitsgrade mehr mögliche Deformationen zu erlauben um interessantere Bauteile generieren zu können.
Durch die Erhöhung der Freiheitsgrade wurde die Karte wesentlich besser gefüllt als dies noch beim ersten Experiment der Fall war.
Es ist herauszustellen, dass der Abstand der Constraintwerte zwischen den beiden Versionen vom ersten zum zweiten Experiment angestiegen ist.
Besonders da im zweiten Experiment mehr breitere Lösungen in der finalen Karte erhalten waren, ist diese Tendenz interessant.
Zwar brachte die stärker gefüllte Karte auch mehr stark deformierte Individuen mit sich, wodurch die Spannweite der erreichten Luftwiderstandswerte größer wurde, dies geschah allerdings für beide Versionen.

Um sicherzustellen, dass MAP-Elites vollständig konvergiert ist wurde dieses Experiment noch einmal mit erhöhten Laufzeiten durchgeführt.
Im dritten Experiment konnte zuerst einmal festgestellt werden, dass sich die Constrainterfüllung bei erhöhter Laufzeit in der Version ohne Constraint sogar etwas verschlechtert.
Insgesamt war der Unterschied zwischen dem zweiten und dritten Experiment allerdings so klein, dass gesagt werden kann, dass das zweite ausreichen konvergiert ist.
Die Analyse der genetischen Diversität der Akquiseindividuen zeigt, dass Deformationen in y und z-Richtung für gute Lösungen wichtiger sind, da in diesen Dimensionen Exploitation in engen Bereichen stattfindet, während Deformationen in x-Richtung eher unwichtig scheinen.
Die genetische Diversität ist in beiden Varianten ähnlich groß und der genetische Suchraum wird ausreichend abgedeckt.
Allerdings findet eine Verschiebung des Fokus von der Variante ohne Constraint zu der mit Constraint statt.
Es werden beispielsweise mehr Individuen mit stärkeren y-Deformationen evaluiert.

In der phänotypischen Diversität fallen zwei Dinge auf.
Erstens werden die Karten in der Variante mit Constraint nicht so weitreichend gefüllt wie die ohne.
Das hängt damit zusammen, dass die Einführung des Constraints eine zusätzliches Ziel zur Exploitation
\footnote{Da der Constraint an jedem Punkt berechnet wird und rauschfrei ist besitzt der Constraint eine Varianz von 0}, wodurch sich die Balance zwischen Exploitation un Exploration verschiebt.
Dies ist auch erkennbar, wenn man überprüft wo die Akquiseindividuen in der gewählten phänotypischen Karte liegen.
In der Variante mit Constraint ist eine Häufung von Akquiseindividuen im mittigen Bereich der Karte zu erkennen.
Der mittige Bereich der Karte ist gerade der Bereich in dem die größten Verbesserungen bezüglich der Constrainterfüllung zu finden waren.
Für schmalere Individuen ist es schwerer den Constraint zu erfüllen, während breitere Lösungen aerodynamisch schlechtere Eigenschaften aufweisen.
Deshalb findet Exploitation hauptsächlich in diesem Bereich statt.

Bei der Betrachtung der produizierten Lösungen ist eine Verbesserung des Constraints erkennbar, allerdings ist diese nicht für die ganze Karte gleich stark.
Da breitere Individuen in der Variante ohne Constraint schon dazu tendieren den Constraint zu erfüllen ist dort nicht viel Raum für Verbesserung.
Trotzdem werden auch breite Individuen leicht verbessert.
Schmalere Individuen hingegen verzeichnen auch keine starken Verbesserungen, obwohl diese hier möglich sein sollten.
Dies hängt mit der Problematik der Gewichtung bei der Nutzung eines Soft Constraints zusammen.
Die Gewichtung ist dafür verantwortlich den gewollten Kompromiss zwischen Constraint und Aerodynamik zu bestimmen.
Bei schmaleren Individuen führte die Gewichtung dazu, dass zwar kleine Verbesserungen stattfanden, größere Constraintverbesserungen allerdings durch die damit verbundenen Kosten in der Aerodynamik vermieden wurden.
Dadurch ähneln sich die Phänotypen der schmaleren Individuen zwischen beiden Varianten sehr stark und es sind dort auch keine großen Constraintverbesserungen zu verzeichnen.
Wo tatsächliche gute Constraintverbesserungen erreicht wurden ist der mittlere Bereich der Karte.

Interessant ist auch, dass viele Individuen existieren, die den Constraint fast erfüllen.
Kleine Reste des Constraintvolumens stoßen noch aus dem Velomobil hervor.
Höchstwahrscheinlich hängen diese kleinen Restvolumen mit der Vereinfachung des Radkastens zusammen.
Um die Constraintberechnung ausreichend schnell durchführen zu können wurde der Radkasten vereinfacht.
Der vereinfachte Radkaste und der originale Radkaste decken sich dadurch nicht, wodurch,b esonder wenn diese deformiert werden, kleinere Ungenauigkeiten entstehen können.
Dadurch werden diese Teilvolumen in der Constraintberechnung nicht mehr beachtet, da sie außerhalb des deformierten vereinfachten Radkastens liegen.



\subsection{E-Roller}

Für den E-Roller wurde in dieser Arbeit nur ein Experiment durchgeführt.
Aus dessen Ergebnisse können trotzdem einige Schlussfolgerungen gezogen werden.

Zuerst muss klargestellt werden, dass  die berechneten Lösungen aufgrund der Unsicherheit, die mit der Korrektheit der Openfoam-Simulationen zusammenhängt, nicht als absolute Wahrheit behandelt werden dürfen.
Alle Beobachtungen, die auf Basis dieses Experiments getätigt wurden, benötigen weitere Verifikation der Korrektheit der Simulationen.
Trotzdem können einige Dinge an diesem Experiment analysiert werden und für eventuelle zukünftige Experimente genutzt werden.

Die erste Beobachtung, die an diesem Experiment gemacht werden konnte, ist, dass die Anwendung von SAIL auf diese Problemdomäne möglich ist.
Es konnte erfolgreich ein Surrogatmodell trainiert werden auf dessen Basis MAP-Elites durchgeführt werden konnte.
Es konnte eine Karte aus phänotypisch diversen Lösungen generiert werden, auch wenn diese Karte nur wenige Lösungsklassen enthielt.
Es kann nicht abschließend gesagt werden ob für das Problem nur Lösungen aus diesen Lösungsklassen brauchbar sind, oder ob die Limitierung auf diese Lösungsklassen ein Produkt der Konfiguration ist.
Auch ist es möglich, dass durch die Fehlkonfiguration von Openfoam Effekte, die nicht-triviale Lösungen haben könnten überhaupt nicht gemessen werden können, oder von der Stärke der Oszillation überdeckt werden.

Es konnte festgestellt werden, dass praktisch nur symmetrische Bauteile generiert wurden.
Damit konnte die Hypothese \todo{nummer}, dass symmetrische Bauteile für den symmetrischen E-Roller optimal sind bestätigt werden.

Es wurde grundsätzlich die Tendenz beobachtet, dass flachere Bauteile bessere Luftwiderstandswerte aufweisen.
Dieses Ergebnis ist zwar etwas ernüchternd, da die Hoffnung bestand außergewöhnliche Bauteile zu generieren, die bessere aerodynamischen Eigenschaften aufweisen, als ein sehr banales.
Allerdings gilt wie bereits erwähnt, dass die Ungenauigkeit der Openfoam-Simulation kleine Effekte, die durch anders förmige Bauteile entstehen würden schlicht ignorieren kann.

\section{Ausblick}

\subsection{Radkasten}

In der Arbeit konnte gezeigt werden, dass eine Einbindung eines Constraints in ein divergentes Optimierungsverfahren möglich ist.

In der Arbeit wurden nur zwei FFD-Konfigurationen genutzt.
Die erste war sehr einfach um an dieser zu testen, dass der Algorithmus die richtigen Tendenzen aufzeigt.
Nachdem das erfolgt war wurde eine komplexere FFD-Konfiguration mit 18 Freiheitsgraden gewählt um mehr Deformationen zu erlauben.
Selbst diese erlaubt allerdings nur begrenzt viele Deformationen.
Es wäre sinnvoll die Anzahl an Freiheitsgraden weiter zu steigern und besonders auf die Punkte zu achten, die wichtig für Lösungen sind.
So wurde in der Arbeit festgestellt, dass Deformationen in y, wie erwartet sehr wichtig sind, aber auch, dass auch Deformationen in z wichtig sind.
Deformationen in x-Richtung waren weitergehend unwichtig und stellten damit Dimensionen dar, die keine interessanten zusätzlichen Deformationen erlaubten.
Es sollt also auch vermieden werden alle Punkte in allen Dimensionen zu deformieren und es sollte sich stattdessen auf y-Deformationen in allen und z-Deformationen in den oberen und unteren Rändern fokussiert werden.

Ein Problem, welches sich in dieser Arbeit gezeigt hat, ist das Problem der korrekten Gewichtung von Luftwiderstand und Constraint.
Das Problem der Gewichtung bei de Nutzung von Soft Constraints ist ein häufig auftretendes und schwer zu lösendes Problem.
Stattdessen könnte in Erwägung gezogen werden den Constraint statt Strafwert als zusätzliche Feature-Dimension aufzunehmen.
Dadurch würde die problematische Gewichtung zwischen Luftwiderstand und Strafwert wegfallen und es würde eine Diversität an Lösungen entlang der Constrainterfüllung generiert.
Damit könnte man garantieren, dass Lösungen verschiedener Constrainterfüllung generiert werden und es könnte eine Untersuchung stattfinden wo überhaupt Lösungen generiert werden, die den Constraint erfüllen, da diese nicht wie in der momentanen Version von aerodynamisch besseren Lösungen die den Constraint schlechter erfüllen verdrängt werden können.

Es sollte außerdem eine Validierung gegen den realen Constraint stattfinden.
Der tatsächliche Constraint bestand darin einen größeren Radausschlag zu ermöglichen.
In der Arbeit wurde immer nur mit dem Volumen des Radausschlags gearbeitet.
Dies war eine Vereinfachung um den Constraint schnell und effizient berechnen zu können.
Zwar ist anzunehmen das ein kleineres Außenvolumen mit einem größeren Radausschlag korreliert ist, können zahlreiche Beispiel konstruiert werden in denen das Außenvolumen minimiert wird und dabei kein größerer Radausschlag erreicht wird.
Den Constraint so zu formulieren wie es in dieser Arbeit geschehen ist ist ein vertretbarer Ansatz, die produzierten Ergebnisse sollten aber auf die Erfüllung des tatsächlichen Constraints geprüft werden.

Zur Formulierung des Constraint wurde hier einige Vereinfachungen vorgenommen.
Es traten immer wieder kleine Restvolumen auf, die aus dem Velomobil herausstachen.
Diese auftretenden Restvolumen entstanden durch die Vereinfachung des Radkastens, bei der nicht garantiert war, dass sich das Volumen nur vergrößern kann.
Es wäre sinnvoll eine bessere Vereinfachung zu wählen, sodass diese niemals kleiner als der reale Radkasten ist, um solche Restvolumen zu vermeiden.

Gegebenenfalls ist die Untersuchung ob und wie gut ein Surrogatmodell auch für die Berechnung des Constraints genutzt werden kann.
Selbst mit den getroffenen Vereinfachungen nahm die Berechnung des Constraints einen großen Teil der Laufzeit in Anspruch, der vergleichbar mit der Laufzeit der präzisen Evaluationen war.
Es war in dieser Arbeit möglich den Constraint direkt zu berechnen, sollte dieser aber komplexer werden, dann wird die direkte Berechnung sehr bald nicht in annehmbarer Zeit durchzuführen sein.
Da sowieso schon ein Surrogatmodell für den Luftwiderstand genutzt wird, liegt die Erweiterung und die Nutzung eines zweiten Surrogatmodells für den Constraint nahe.
Sollte dies möglich sein würde das die restriktive obere Komplexitätsgrenze der Constraintberechnung aufheben, wodurch realitätsgetreuere Constraints ermöglicht werden könnten. 

Auch wäre eine saubere Definition des Constraintvolumens nötig.
In der genutzten Definition ist der Bereich des Radausschlags unterhalb des Velomobils Teil des Constraintvolumens.
Dadurch entspricht der vollständige ermöglichte Radausschlag nicht dem Constraintvolumen von null.
Auch schränkt dieser Teil die Bewegungsfreiheit der Räder nicht ein.
In weiterführenden Arbeiten sollte der Constraint soweit besser formuliert werden, dass dieser Teil kein Teil des Constraintvolumens ist um einen sauberen Nullpunkt zu erhalten.

Auch sollte über die Parametrisierung des Gaußprozesses nachgedacht werden.
Besonders die isotropische Kovarianzfunktion sollte gegen eine mit Automatic relevance determination ausgetauscht werden, da es denkbar ist, dass Dimensionen, die auf y-Deformationen abgebildet werden andere Längenmaße benötigen, als solche, die auf z-Deformationen abgebildet werden.

Die hier durchgeführten Experimente wurden mit einem vereinfachten Modell des Velomobils, welches die Räder nicht enthält, berechnet.
Da die Radkästen mit hoher Wahrscheinlichkeit Einfluss auf die Turbulenzen um die Räder des Velomobils haben werden, wären Experimente, die die Räder des Velomobils einschließen wünschenswert.
Dies könnte zwar die benötigte Auswertungszeit der Simulationen erhöhen, aber vermutlich realistischere Ergebnisse generieren.

\subsection{E-Roller}

Aufgrund der Schwierigkeiten der Anwendung von SAIL auf die E-Rollerdomäne lag der Fokus der Untersuchung dieser Arbeit in der Radkastendomäne.
Das Hauptproblem der in dieser Arbeit erzeugten Ergebnisse ist die Unsicherheit bezüglich deren Korrektheit.
Der Grund dafür ist der Fakt, dass die cD-Werte in der gewählten Konfiguration OpenFoam nicht konvergierten.
Der Grund dafür kann eine fehlerhafte Parametrisierung Openfoams sein, die Anpassung dieser Konfiguration sprengt allerdings den Umfang dieser Arbeit.
In zukünftigen Untersuchungen sollte also, vor der Nutzung von SAIL, zuerst sichergestellt werden, dass die zugrundeliegende Simulation in Openfoam realitätsgetreue Ergebnisse liefert.
Ist das nicht garantiert können alle möglichen Ergebnisse von SAIL nur beschränkte Aussagekraft haben.

Des weiteren sind die erzeugten Formen für das Bauteil nicht besonders kreativ oder bahnbrechend.
Das kann daran liegen, dass für dieses Bauteil keine guten unintuitiven Lösungen existieren.
Die Anzahl an möglichen Lösungen wird allerdings durch die gewählte Deformationskonfiguration eingeschränkt.
Es sollte möglicherweise über andere FFD-Konfigurationen, beziehungsweise Deformatiormationen in anderen Punkten und/oder Richtungen nachgedacht werden.
Besonders, dass die seitlichen Ränder des Bauteils in der hier gewählten Konfiguration nicht deformiert werden können stellt eine starke Einschränkung dar.
Auch sollte in Erwägung gezogen werden die linke und rechte Hälfte symmetrisch zu verformen.
Erstens ist anzunehmen, dass dadurch, dass der E-Roller an sich symmetrisch ist die Strömungen die das Bauteil treffen ebenso symmetrisch sind.
Lösungen die in solchen Strömungen am besten abschneiden werden mit hoher Wahrscheinlichkeit symmetrisch sein.
Im Experiment konnte auch beobachtet werden, dass alle erzeugten Bauteile fast symmetrisch waren.
Alle Asymmetrien waren meist leicht und eher auf die Größe des genetischen Suchraums zurückzuführen, als auf einen Vorteil durch eine asymmetrische Bauart.
Auch ist fragwürdig ob  asymmetrische Bauteile überhaupt in die Designparameter des E-Rollers passen.
Ästhetik ist schwer quantifizierbar und Fertigungstauglichkeit sowie Einbettbarkeit des Bauteils in den E-Roller wurden in dieser Arbeit nicht untersucht, alle drei könnte aber von vornherein gegen asymmetrische Bauteile sprechen.
Durch die symmetrische Verformung des Bauteils könnte allerdings die Anzahl an benötigten Freiheitsgraden halbiert, beziehungsweise mit der gleichen Anzahl an Freiheitsgraden feinere Deformationen erlaubt werden.
In Anbetracht dieser drei Tatsachen scheinen symmetrische Verformungen bei denen die Verformungen der linken und rechten Hälfte des Bauteils aus dem gleichen Genom abgeleitet werden sinnvoller.

In dem durchgeführten Experiment waren die besten Ergebnisse bezüglich des Luftwiderstands solche die effektiv flach oder leicht nach oben deformiert waren.
Es besteht die Möglichkeit, dass nach oben deformierte Bauteile noch optimaler sind.
Dieser Lösungsraum sollte nach Lösungen untersucht werden.
Allzu stark deformiert Lösungen wurden in  dem durchgeführten Experiment durch die beschränkte minimale Deformation ausgeschlossen.
Es wäre möglich mehr Deformationen nach oben zu erlauben um solche Lösungen genauer zu untersuchen.
Zwar muss dann eine Möglichkeit gefunden werden, dass solche Bauteile, den restlichen E-Roller nicht schneiden, sodass beispielsweise um dessen Bauteile herum deformiert wird.
Dies könnte beispielsweise durch die Einführung eines Constraints geschehen, der testet, ob das Bauteil mit anderen Teilen des E-Rollers kollidiert.

Durch die Wahl des tiefsten Punkt als eines der Features war es selbst für leicht nach oben deformierte Bauteile schwer Einzug in die Karte zu erhalten.
Deshalb sollte zusätzlich über die die Kategorien zu nachgedacht werden, nach denen die Bauteile phänotypisch kategorisiert werden.
Die gewählten Kategorien wurden hauptsächlich aus dem Grund gewählt, dass diese einfach berechenbar und klar verständlich sind.
Es wäre vermutlich sinnvoll für die Domäne abgewägte Kategorien zu wählen, und zu untersuchen wie sich dies auf die Lösungen auswirkt.

Zuletzt stellte die benötigte Laufzeit für OpenFoam trotz der Nutzung des vereinfachten E-Roller Modells eine nicht unbeträchliche Hürde dar.
Dies ist vor allem auf die komplexere Form des E-Rollers im Vergleich zur aerodynamisch optimierten Projektilform des Velomobils und die längere Simulationsdauer von 1000 Sekunden zurückzuführen.
Eine qualitative Untersuchung welche Teile des E-Rollers wegrationalisiert werden können, ohne signifikante Ungenauigkeit in die Ergebnisse einzuführen, könnte die Laufzeit reduzieren wodurch beispielsweise wieder präzise Funktionsauswertungen ermöglicht werden, was mehr Freiheitsgrade erlauben kann.